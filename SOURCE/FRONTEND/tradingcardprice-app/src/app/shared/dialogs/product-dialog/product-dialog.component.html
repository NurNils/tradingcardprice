<h2 mat-dialog-title>{{ 'product.title' | translate }}</h2>
<mat-dialog-content *ngIf="productFormGroup">
  <p>{{ 'product.subtitle' | translate }}</p>
  <!-- Product form -->
  <form [formGroup]="productFormGroup">
    <!-- Activated -->
    <mat-slide-toggle formControlName="activated">{{ 'activated' | translate }}</mat-slide-toggle>
    <br />
    <br />

    <!-- Key -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'key' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="key" />
    </mat-form-field>
    <br />

    <!-- Displayname -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'displayname' | translate }}</mat-label>
      <input
        matInput
        color="primary"
        required
        disabled
        value="{{ productFormGroup.get('displayname').value[translate.getDefaultLang()] }}"
      />
      <button
        mat-icon-button
        matSuffix
        (click)="translateItemService.openTranslateItemDialog(productFormGroup, 'displayname')"
      >
        <mat-icon>language</mat-icon>
      </button>
    </mat-form-field>
    <br />

    <!-- Description -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'description' | translate }}</mat-label>
      <input
        matInput
        color="primary"
        required
        disabled
        value="{{ productFormGroup.get('description').value[translate.getDefaultLang()] }}"
      />
      <button
        mat-icon-button
        matSuffix
        (click)="
          translateItemService.openTranslateItemDialog(productFormGroup, 'description', true)
        "
      >
        <mat-icon>language</mat-icon>
      </button>
    </mat-form-field>

    <!-- Priority -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'priority' | translate }}</mat-label>
      <input matInput type="number" required formControlName="priority" />
      <mat-icon class="info" matSuffix matTooltip="{{ 'priority-hint' | translate }}"
        >info</mat-icon
      >
    </mat-form-field>

    <!-- Thumbnail -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'thumbnail' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="thumbnail" />
      <!--
            <button
            mat-icon-button
            matSuffix
            (click)="
                imageService.openImageGalleryDialog(productFormGroup, 'thumbnail', false)
            "
            >
            <mat-icon>insert_photo</mat-icon>
            </button>
            -->
    </mat-form-field>

    <!-- Rarity -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'rarity' | translate }}</mat-label>
      <input matInput color="primary" formControlName="rarity" />
    </mat-form-field>

    <!-- Images -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'images' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="images" />
      <!--
              <button
              mat-icon-button
              matSuffix
              (click)="
                  imageService.openImageGalleryDialog(itemFormGroup, 'images', true)
              "
              >
              <mat-icon>insert_photo</mat-icon>
              </button>
              -->
    </mat-form-field>

    <!-- GameId -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'gameId' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="gameId" disabled />
      <button
        mat-icon-button
        matSuffix
        (click)="idService.openIdsGalleryDialog(productFormGroup, 'gameId', 'game', false)"
      >
        <mat-icon>videogame_asset</mat-icon>
      </button>
    </mat-form-field>

    <!-- CategoryId -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'categoryId' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="categoryId" disabled />
      <button
        mat-icon-button
        matSuffix
        (click)="idService.openIdsGalleryDialog(productFormGroup, 'categoryId', 'category', false)"
      >
        <mat-icon>category</mat-icon>
      </button>
    </mat-form-field>

    <!-- Index -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'index' | translate }}</mat-label>
      <input matInput color="primary" required formControlName="index" />
    </mat-form-field>

    <!-- Clicks -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'clicks' | translate }}</mat-label>
      <input matInput type="number" required formControlName="clicks" />
      <mat-icon class="info" matSuffix matTooltip="{{ 'clicks-hint' | translate }}">info</mat-icon>
    </mat-form-field>

    <!-- Ebay Keywords -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'ebay-keywords' | translate }}</mat-label>
      <input matInput color="primary" formControlName="ebayKeywords" />
    </mat-form-field>

    <!-- Ebay CategoryId -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'ebay-category' | translate }}</mat-label>
      <input matInput color="primary" formControlName="ebayCategoryId" />
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>{{ 'cancel' | translate }}</button>
  <button
    mat-raised-button
    type="submit"
    color="primary"
    [disabled]="productFormGroup.invalid"
    (click)="save()"
  >
    {{ 'save' | translate }}
  </button>
</mat-dialog-actions>
